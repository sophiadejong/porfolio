<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sophia de Jong</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital@0;1&family=Syne+Mono&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing:border-box; }
    body, html { margin:0; padding:0; height:100%; overflow:hidden; cursor:none; }
    section{
      position:relative; z-index:3;
      display:flex; justify-content:center; align-items:center;
      height:100vh; text-align:center; color:#fffdf5;
    }
    .syne-mono-regular{font-family:"Syne Mono",monospace;font-weight:400;}
    h1{font-size:4rem; margin-bottom:6%;}

    .gradient-bg{
      position:fixed; inset:0; z-index:1;
      background:radial-gradient(circle at 50% 50%,#8B1A3D,#FFB6C1);
      transition:background .4s ease;
    }
    #meatCanvas{
      position:fixed; inset:0; z-index:2;
      width:100%; height:100%;
      image-rendering:pixelated;          /* keeps the blocky meat look */
      opacity:0.45;
    }
  </style>
</head>
<body>

  <div class="gradient-bg"></div>
  <canvas id="meatCanvas"></canvas>

  <section>
    <div class="syne-mono-regular">
      <h1>Sophia de Jong</h1>
      <p>Site under maintenance</p>
    </div>
  </section>

  <script>
    /* ---------- GRADIENT ---------- */
    const bg = document.querySelector('.gradient-bg');
    let targetX = 50, targetY = 50;
    let curX = 50, curY = 50;
    let raf = null, idle = false, drift = 0;

    const setTarget = (cx, cy) => {
      targetX = (cx / innerWidth) * 100;
      targetY = (cy / innerHeight) * 100;
      idle = false;
      start();
    };
    addEventListener('mousemove', e => setTarget(e.clientX, e.clientY));
    addEventListener('touchmove', e => { const t = e.touches[0]; setTarget(t.clientX, t.clientY); });

    function renderGradient(x, y, pulse = 1) {
      const d = Math.hypot(x-50, y-50);
      const i = Math.min(d/70,1);

      const r1 = 75 + i*110|0, g1 = 10 + i*10|0, b1 = 30 + i*15|0;
      const r2 = 255 - i*100|0, g2 = 182 + (1-i)*50|0, b2 = 193 + (1-i)*60|0;
      const p = pulse*22|0;
      const r2p = Math.min(255, r2+p), g2p = Math.min(255, g2+p), b2p = Math.min(255, b2+p);

      bg.style.background = `radial-gradient(circle at ${x}% ${y}%, rgb(${r1},${g1},${b1}), rgb(${r2p},${g2p},${b2p}) 70%)`;
    }

    function loop() {
      curX += (targetX - curX) * 0.14;
      curY += (targetY - curY) * 0.14;
      renderGradient(curX, curY);

      if (Math.hypot(curX-targetX, curY-targetY) < 0.4 && !idle) {
        idle = true; drift = 0;
        cancelAnimationFrame(raf);
        raf = requestAnimationFrame(idleLoop);
      } else raf = requestAnimationFrame(loop);
    }
    function idleLoop() {
      drift += 0.018;
      const w = Math.sin(drift)*1.6 + Math.cos(drift*1.35)*1.1;
      const pulse = 1 + Math.sin(drift*0.55)*0.12;
      renderGradient(curX + w, curY + w*0.9, pulse);
      raf = requestAnimationFrame(idleLoop);
    }
    function start() {
      if (raf) cancelAnimationFrame(raf);
      idle = false;
      raf = requestAnimationFrame(loop);
    }

    renderGradient(50,50);
    addEventListener('mouseleave',()=>{ idle=true; cancelAnimationFrame(raf); });
    addEventListener('mouseenter',()=>{ if(!idle) start(); });

    /* ---------- MEAT CANVAS ---------- */
    const canvas = document.getElementById('meatCanvas');
    const ctx = canvas.getContext('2d');
    let t = 0;

    function resize() {
      canvas.width = innerWidth;
      canvas.height = innerHeight;
    }
    resize();
    addEventListener('resize', resize);

    // Low-res block size
    const BLOCK = 4;

    function drawMeat() {
      const w = canvas.width, h = canvas.height;
      ctx.clearRect(0,0,w,h);
      ctx.globalCompositeOperation = 'soft-light';

      for (let y = 0; y < h; y += BLOCK) {
        for (let x = 0; x < w; x += BLOCK) {
          // animated fractal-ish noise
          const n1 = Math.sin(x*0.018 + t) * Math.cos(y*0.022 + t*0.73);
          const n2 = Math.sin(x*0.045 + t*1.1) * 0.4;
          const noise = (n1 + n2) * 0.5 + 0.5;

          // meat colour (deep red â†’ pink marbling)
          const r = 130 + noise*70;
          const g = 35 + noise*25;
          const b = 45 + noise*15;

          ctx.fillStyle = `rgba(${r|0},${g|0},${b|0},${0.3 + noise*0.2})`;
          ctx.fillRect(x, y, BLOCK, BLOCK);
        }
      }
      t += 0.015;
      requestAnimationFrame(drawMeat);
    }
    drawMeat();
  </script>
</body>
</html>
